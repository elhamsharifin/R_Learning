set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
mean(jam_win)
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
mean(jam_win)
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
mean(jam_win)
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
mean(jam_win)
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
runners <- c("Jamaica", "Jamaica", "Jamaica", "USA", "Ecuador", "Netherlands", "France", "South Africa")
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3,replace=TRUE)
all(simulated_games=="Jamaica")
})
mean(jam_win)
B <- 10000
set.seed(1)
jam_win <- replicate(B,{
simulated_games <- sample(runners,3)
all(simulated_games=="Jamaica")
})
mean(jam_win)
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("S1","S2","S2","S4","S5","S6")
drink <- c("d1","d2")
permutations(entree,side,drink)
permutations(6,2)
permutations(6,2)
permutations(1,2)
permutations(2,1)
nrow(permutations(6,2))
nrow(permutations(6,2))*nrow(permutations(6,2))*nrow(permutations(2,1))
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("S1","S2","S2","S4","S5","S6")
drink <- c("d1","d2")
entree
combination(5,2)
combinations(5,2)
combinations(6,2)
combination(6,2)
combinations(6,2)
combinations(6,2)
combinations(2,1)
nrow(combinations(6,2))*nrwo(combinations(6,2))*nrow(combinations(2,1))
nrow(combinations(6,2))*nrow(combinations(6,2))*nrow(combinations(2,1))
combinations(entree,2)
expand.grid(entree,side,drink)
x <- expand.grid(entree,side,drink)
View(x)
View(x)
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("S1","S2","S3","S4","S5","S6")
drink <- c("d1","d2")
x <- expand.grid(entree,side,drink)
View(x)
entree2 <- combinations(2,6,v=entree)
entree2 <- combinations(6,2,v=entree)
View(entree2)
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("S1","S2","S2","S4","S5","S6")
drink <- c("d1","d2")
entree_2 <- combinations(6,2,v=entree)
side_2 <- combinations(6,2,v=side)
entree_2 <- combinations(6,2,v=entree)
entree_2 <- combinations(6,2,v=entree)
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("S1","S2","S2","S4","S5","S6")
drink <- c("d1","d2")
entree_2 <- combinations(6,2,v=entree)
side_2 <- combinations(6,2,v=side)
side_2 <- combinations(6,2,v=side)
side2 <- combinations(6,2,v=side)
side2 <- combinations(6,2,v=side)
side2 <- combinations(6,2,w=side)
drink1 <- combinations(2,1,v=drink)
View(drink1)
side2 <- combinations(6,2,v=side)
combinations(6,2,v=side)
side
s <- c("s1","s2","s3","s4","s5","s6")
combination(2,6,v=s)
combinations(6,2,v=s)
# possible meal combination at his restaurant:
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("s1","s2","s3","s4","s5","s6")
drink <- c("d1","d2")
s <- combinations(6,2,v=side)
entree2 <- combinations(6,2,v=entree)
drink1 <- combinations(2,1,v=drink)
# possible meal combination at his restaurant:
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("s1","s2","s3","s4","s5","s6")
drink <- c("d1","d2")
s <- combinations(6,2,v=side)
entree2 <- combinations(6,2,v=entree)
drink1 <- combinations(2,1,v=drink)
side2 <- combinations(6,2,v=side)
View(s)
# possible meal combination at his restaurant:
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("s1","s2","s3","s4","s5","s6")
drink <- c("d1","d2")
side2 <- combinations(6,2,v=side)
entree2 <- combinations(6,2,v=entree)
drink1 <- combinations(2,1,v=drink)
meals <- expand.grid(entree2,side2,drink1)
nrow(meals)
View(drink1)
View(entree2)
# possible meal combination at his restaurant:
entree <- c("E1","E2","E3","E4","E5","E6")
side <- c("s1","s2","s3","s4","s5","s6")
drink <- c("d1","d2")
side2 <- combinations(6,2,v=side)
entree2 <- combinations(6,1,v=entree)
drink1 <- combinations(2,1,v=drink)
entree1 <- combinations(6,1,v=entree)
side2 <- combinations(6,2,v=side)
drink1 <- combinations(2,1,v=drink)
nrow(entree1)*nrow(side2)*nrow(drink1)
entree1_6 <- combinations(6,1,v=c("E1","E2","E3","E4","E5","E6"))
side2_6 <- combinations(6,2,v=c("s1","s2","s3","s4","s5","s6"))
drink1_2 <- combinations(2,1,v=("d1","d2"))
View(entree1_6)
View(side2_6)
drink2_1 <- combinations(2,1,v=("d1","d2"))
entree6_1 <- combinations(6,1,v=c("E1","E2","E3","E4","E5","E6"))
side6_2 <- combinations(6,2,v=c("s1","s2","s3","s4","s5","s6"))
drink2_1 <- combinations(2,1,v=c("d1","d2"))
nrow(entree6_1)*nrow(side6_2)*nrow(drink2_1)
nrow(entree6_1)*nrow(side6_2)*nrow(drink3_1)
drink3_1 <- combinations(3,1,v=c("d1","d2","d3"))
nrow(entree6_1)*nrow(side6_2)*nrow(drink3_1)
#the manager decided to not add any think to his menue but get his golas with choosing more options.
# all options of choosing from 6 entrees, 3 drinks, and 3 sides.
side6_3 <- combinations(6,3,v=c("s1","s2","s3","s4","s5","s6"))
side6_3 <- combinations(6,3,v=c("s1","s2","s3","s4","s5","s6"))
nrow(entree6_1)*nrow(side6_3)*nrow(drink3_1)
entree_numbers <- function(n){
nrow(combinations(n,1))*nrow(combinations(6,2))*nrow(combinations(3,1))
}
entree_numbers(6)
entree_numbers(7)
n <- seq(1,12)
x <- sapply(entree_options,n)
entree_options <- function(n){
nrow(combinations(n,1))*nrow(combinations(6,2))*nrow(combinations(3,1))
}
n <- seq(1,12)
x <- sapply(entree_options,n)
n <- seq(1,12)
x <- sapply(n,entree_options)
x
n <- seq(1,12)
x <- sapply(n,entree_options)
plot(n,x)
x
data.frame(1:12,entree_option_12)
entree_option_12 <- sapply(1:12,entree_options)
# minimum number of meals to get his goals (more than 365 meal options)
data.frame(1:12,entree_option_12)
filter(entree_option_12>=365)
data.frame(1:12,entree_option_12) %>%
filter(entree_option_12>=365)
data.frame(entrees=1:12,entree_option_12) %>%
filter(entree_option_12>=365) %>%
min(.$entrees)
side_options <- function(s){
nrow(combinations(6,1))*nrow(combinations(s,2))*nrow(combinations(3,1))
}
# apply the function to entree option counts ranging from 1 to 12.
side_option_12 <- sapply(2:12,side_options)
# minimum number of meals to get his goals (more than 365 meal options)
data.frame(sides=2:12,side_option_12) %>%
filter(side_option_12>=365) %>%
min(.$sides)
head(esoph)
nrow(esoph)
head(esoph)
nrow(ncases)
nrow(esoph$ncases)
all_cases <- esoph$ncases
all_cases
## how many cases are there?
all_cases <- sum(esoph$ncases)
all_cases <- sum(esoph$ncases)
all_cases
all_controls <- sum(esoph$ncontrols)
all_controls
head(esoph)
eesoph
esoph
max(esoph$alcgp)
## the probaility of a subject in the highest alcohol consumption group is a cancer case?
x <- esoph %>% ncases[max(alcgp)]
x <- esoph %>% max(alcgp)
x <- esoph %>% max(alcgp)
library(tidyverse)
x <- esoph %>% max(alcgp)
x <- esoph$max(alcgp)
## the probaility of a subject in the highest alcohol consumption group is a cancer case?
x <- esoph$alcgp[max(alcgp)]
## the probaility of a subject in the highest alcohol consumption group is a cancer case?
x <- esoph$ncases[max(esoph$alcgp)]
x
max(esoph$alcgp)
max(esoph$alcgp)
esoph$ncases[max(esoph$alcgp)]
x <- esoph$ncases[esoph$alcgp=="120+""]
x
x <- esoph$ncases(esoph$alcgp=="120+"")
x <- esoph$ncases[esoph$alcgp="120+""]
x <- esoph$ncases[esoph$alcgp="120+"]
x <- esoph$ncases[esoph$alcgp=120+]
max(esoph$alcgp)
high_alcohol <- esoph %>%
filter(alcgp=="120+")
high_alcohol <- esoph %>%
filter(alcgp=="120+")
View(high_alcohol)
View(high_alcohol)
high_alcohol <- esoph %>%
filter(alcgp=="120+") %>%
.$ncases
high_alcohol
Pr_high_alochol <- sum(high_alcohol)/all_cases
sum(high_alcohol)/all_cases
Pr <- sum(high_alcohol)/all_cases
Pr
high_alcohol <- esoph %>%
filter(alcgp=="120+") %>%
.$ncases
high_alcohol
high_alcohol_healthy <- esoph %>%
filter(alcgp=="120+") %>%
.$ncontrols
high_alcohol_cancer <- esoph %>%
filter(alcgp=="120+") %>%
.$sum(ncases)
high_alcohol_cancer <- esoph %>%
filter(alcgp=="120+") %>%
.$ncases
high_alcohol_healthy <- esoph %>%
filter(alcgp=="120+") %>%
.$ncontrols
Pr <- sum(high_alcohol_cancer)/(sum(high_alcohol_cancer)+(high_alcohol_healthy))
Pr
high_alcohol_cancer <- esoph %>%
filter(alcgp=="120+") %>%
.$ncases
library(tidyverse)
head(esoph)
## number of groups in the study
nrow(esoph)
## how many cases and controls are there?
all_cases <- sum(esoph$ncases)
all_cases
all_controls <- sum(esoph$ncontrols)
all_controls
## the probaility of a subject in the highest alcohol consumption group is a cancer case?
high_alcohol_cancer <- esoph %>%
filter(alcgp=="120+") %>%
.$ncases
high_alcohol_healthy <- esoph %>%
filter(alcgp=="120+") %>%
.$ncontrols
Pr
sum(high_alcohol_cancer)/sum(high_alcohol_cancer+high_alcohol_healthy)
esoph %>%
filter(alcgp=="120+") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
esoph %>%
filter(alcgp=="120+") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols)) %>%
mutate(p_cases=ncases/(ncases_ncontrols),p_controls=ncontrols/(ncases_ncontrols))
esoph %>%
filter(alcgp=="120+") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols)) %>%
mutate(p_cases=ncases/(ncases+ncontrols),p_controls=ncontrols/(ncases+ncontrols))
min(esoph$agegp)
max(esoph$alcgp)
esoph %>%
filter(alcgp=="120+") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols)) %>%
mutate(p_cases=ncases/(ncases+ncontrols),p_controls=ncontrols/(ncases+ncontrols))
min(esoph$alcgp)
esoph %>%
filter(alcgp=="0-39g/day") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols)) %>%
mutate(p_cases=ncases/(ncases+ncontrols),p_controls=ncontrols/(ncases+ncontrols))
head(esoph)
esoph %>%
filter(tobgp>="10g/day") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
esoph %>%
filter(tobgp>="10g/day") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
esoph %>%
filter(tobgp>="10 g/day") %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
esoph %>%
filter(tobgp>=10) %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
head(esoph)
levels(esoph$tobgp)
esoph %>%
filter(tobgp==c("10-19","20-29","30+"))
esoph %>%
filter(tobgp=c("10-19","20-29","30+")) %>%
summarize(ncases = sum(ncases),ncontrols = sum(ncontrols))
esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+")
x <- esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+")
x
x <- esoph %>%
filter(tobgp=="10-19"& tobgp=="20-29"& tobgp=="30+")
x
x <- esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+")
x
x <- esoph %>%
filter(ncases>0,tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+" &)
x <- esoph %>%
filter(ncases>0 & tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+")
x
x <- esoph %>%
filter(ncases>0, tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+")
x
esoph %>%
filter(ncases>0, tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(cases=sum(ncases)/all_cases)
esoph %>%
filter(ncases>0, tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(cases=sum(ncases)/all_cases)
esoph %>%
filter(ncases>0, tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(cases=sum(ncases)/all_cases,controls=sum(ncontrols)/all_controls)
esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(cases=sum(ncases)/all_cases)
esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(cases=sum(ncases)/all_cases,controls=sum(ncontrols)/all_controls)
head(esoph)
levels(alcgp)
levels(esoph$alcgp)
esoph %>%
filter(tobgp=="10-19"|tobgp=="20-29"|tobgp=="30+") %>%
summarise(pr_cases=sum(ncases)/all_cases,pr_controls=sum(ncontrols)/all_controls)
esoph %>%
filter(alcgp=="120+") %>%
summarise(pr_cases=sum(ncases)/all_cases)
high_alc_cases <- esoph %>%
filter(alcgp=="120+") %>%
pull(ncases) %>%
sum()
Pr_high_al_case <-  high_alc_cases/all_cases
Pr_high_al_case
head(esoph)
esoph %>%
filter(tobgp=="120+") %>%
summarise(pr_controls=sum(ncontrols)/all_controls)
esoph %>%
filter(tobgp=="120+") %>%
summarise(pr_cases=sum(ncases)/all_cases)
levels(tobgp)
levels(esoph$tobgp)
esoph %>%
filter(tobgp=="30+") %>%
summarise(pr_cases=sum(ncases)/all_cases)
head(eesoph)
head(esoph)
levels(esoph$tobgp)
levels(esoph$alcgp)
esoph %>%
filter(tobgp=="30+" & alcgp=="120+") %>%
summarise(Pr_cases=sum(ncases)/all_cases)
esoph %>%
filter(tobgp=="30+", alcgp=="120+") %>%
summarise(Pr_cases=sum(ncases)/all_cases)
esoph %>%
filter(tobgp=="30+"& alcgp=="120+") %>%
summarise(Pr_cases=sum(ncases)/all_cases)
esoph %>%
filter(tobgp=="30+"| alcgp=="120+") %>%
summarise(Pr_cases=sum(ncases)/all_cases)
ncases_high_alco <- esoph %>%
filter(alcgp=="120+") %>%
pull(nclase) %>%
sum()
ncases_high_alco <- esoph %>%
filter(alcgp=="120+") %>%
pull(ncases) %>%
sum()
Pr_ncases_high_alco <- ncases_high_alco/all_cases
Pr_ncases_high_alco
levels(esoph$tobgp)
ncases_high_tob <- esoph %>%
filter(tobgp=="30+") %>%
pull(ncases) %>%
sum()
Pr_ncases_high_tob <- ncases_high_tob/all_cases
Pr_ncases_high_tob
ncases_high_tob_alco <- esoph %>%
filter(tobgp=="30+" & alcgp=="120+") %>%
pull(ncases) %>%
sum()
Pr_ncases_high_tob_alco <- ncases_high_tob/all_cases
Pr_ncases_high_tob_alco
ncases_high_tob_alco <- esoph %>%
filter(tobgp=="30+" & alcgp=="120+") %>%
pull(ncases) %>%
sum()
Pr_ncases_high_tob_alco <- ncases_high_tob_alco/all_cases
Pr_ncases_high_tob_alco
Pr_ncases_either_tab_alco <- Pr_ncases_alco + Pr_ncases_tab - Pr_ncases_high_tob_alco
Pr_ncases_either_tab_alco <- Pr_ncases_high_alco + Pr_ncases_high_tob - Pr_ncases_high_tob_alco
Pr_ncases_either_tab_alco
Pr_ncases_either_tab_alco <- Pr_ncases_high_alco + Pr_ncases_high_tob - Pr_ncases_high_tob_alco
Pr_ncases_either_tab_alco
### for controls, probability of being in the highest alcohol group:
ncontrols_high_alco <- esoph %>%
filter(alcgp=="120+") %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_alco <- ncontrols_high_alco/all_controls
Pr_ncontrols_high_alco
ncontrols_high_alco <- esoph %>%
filter(alcgp=="120+") %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_alco <- ncontrols_high_alco/all_controls
Pr_ncontrols_high_alco
Pr_ncontrols_high_alco/Pr_ncases_high_alco
Pr_ncases_high_alco/Pr_ncontrols_high_alco
ncontrols_high_tob_alco <- esoph %>%
filter(tobgp=="30+" & alcgp=="120+") %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_tob_alco <- ncontrols_high_tob_alco/all_ncontrols
Pr_ncontrols_high_tob_alco <- ncontrols_high_tob_alco/all_controls
Pr_ncontrols_high_tob_alco
ncontrols_high_tob_alco <- esoph %>%
filter(tobgp=="30+" ) %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_tob_alco <- ncontrols_high_tob_alco/all_controls
Pr_ncontrols_high_tob_alco
ncontrols_high_tob <- esoph %>%
filter(tobgp=="30+" ) %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_tob <- ncontrols_high_tob_alco/all_controls
Pr_ncontrols_high_tob
ncontrols_high_tob_alco <- esoph %>%
filter(tobgp=="30+" & alcgp=="120+" ) %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_tob_alco <- ncontrols_high_tob_alco/all_controls
Pr_ncontrols_high_tob_alco
P_ncontrols_either_tob_alco <- Pr_ncontrols_high_tob + Pr_ncontrols_high_alco - Pr_ncontrols_high_tob_alco
P_ncontrols_either_tob_alco <- Pr_ncontrols_high_tob + Pr_ncontrols_high_alco - Pr_ncontrols_high_tob_alco
P_ncontrols_either_tob_alco
Pr_ncontrols_either_tob_alco <- Pr_ncontrols_high_tob + Pr_ncontrols_high_alco - Pr_ncontrols_high_tob_alco
Pr_ncontrols_either_tob_alco
Pr_ncases_either_tob_alco/Pr_ncontrols_either_tob_alco
Pr_ncases_either_tab_alco/Pr_ncontrols_either_tob_alco
compute_bday <- function(n,B=10000){
same_day <- replicate(B,{
bday <- sample(1:365,n,replace = TRUE)
any(duplicated(bday))
})
mean(same_day)
}
x <- 1:10
sqrt(x) #sqrt applys on every elements of the vector x
y <- 1:10
x*y  #it multiply each elements from x on y
compute_prob(n)    # does not iterate over the vector n without sapply
ncontrols_high_tob <- esoph %>%
filter(tobgp=="30+" ) %>%
pull(ncontrols) %>%
sum()
Pr_ncontrols_high_tob <- ncontrols_high_tob/all_controls
Pr_ncontrols_high_tob
